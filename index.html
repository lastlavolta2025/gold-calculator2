// In Buy In calculate button:
// Add after basePrice calculation
if (liveGoldPriceHKD === null) {
  alert('無法取得即時金價，無法計算利潤');
  return;
}
const marketPriceTotal = liveGoldPriceHKD * weight * purity;
const profitBuyIn = marketPriceTotal - basePrice;

document.getElementById('resultBuyIn').innerHTML = 
  `買入價格（含佣金後）: HKD ${basePrice.toFixed(2)}<br>` +
  `即時市場價格: HKD ${marketPriceTotal.toFixed(2)}<br>` +
  `<strong>買入利潤: HKD ${profitBuyIn.toFixed(2)}</strong>`;

// In Sell Out calculate button:
// Add after basePrice calculation
if (liveGoldPriceHKD === null) {
  alert('無法取得即時金價，無法計算利潤');
  return;
}
const marketPriceTotalSell = liveGoldPriceHKD * weight * purity;
const profitSellOut = basePrice - marketPriceTotalSell;

document.getElementById('resultSellOut').innerHTML = 
  `賣出價格（含佣金，人工費及手續費）: HKD ${basePrice.toFixed(2)}<br>` +
  `即時市場價格: HKD ${marketPriceTotalSell.toFixed(2)}<br>` +
  `<strong>賣出利潤: HKD ${profitSellOut.toFixed(2)}</strong>`;
